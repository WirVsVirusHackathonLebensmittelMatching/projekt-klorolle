sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/GroupHeaderListItem"],function(t,e){"use strict";function o(t,e){var o=t.getView().getModel("shops").getData();var i=o.find(function(t){return t.id===e});return i.name}return t.extend("com.wir.vs.virus.timeslots.ShopOwner.controller.Main",{onInit:function(){this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oRouter.getRoute("Main").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:function(t){var e=t.getParameter("arguments").id;this.sId=e;this.byId("page").setTitle(o(this,e));this.getView().getModel("goods").load(this.sId);this.getView().getModel("shop").load(this.sId);this.getView().getModel("slots").load(this.sId)},onGoodChanged:function(t){var e=t.getSource().getBindingContext("goods");var o=t.getParameter("selectedItem").getKey();this.getView().getModel("goods").changeGood(e.getPath(),o)},toSlotsConfig:function(){this.oRouter.navTo("SlotConfig",{id:this.sId})},toCalendar:function(){this.oRouter.navTo("Calendar",{id:this.sId})},toGoods:function(){this.oRouter.navTo("Goods",{id:this.sId})},getGroupHeader:function(t){return new e({title:t.key,upperCase:false})},formatTitle:function(t){return t==="shopYourself"?"Einkauf":"ClickAndCollect"},formatInMins:function(t){return"in "+t+" Min"},onOrderPress:function(t){var e=t.getSource().getBindingContext("slots");var o=e.getModel().getProperty(e.getPath()).id;this.oRouter.navTo("Order",{id:this.sId,orderId:o})}})});